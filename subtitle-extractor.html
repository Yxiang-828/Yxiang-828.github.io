<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subtitle/MP3 Extractor - Yao Xiang</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .detail-container { max-width: 1200px; margin: 100px auto 50px; padding: 50px; background: rgba(15, 15, 35, 0.9); border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); }
        .back-link { display: inline-block; margin-bottom: 30px; color: #00d4ff; text-decoration: none; font-weight: bold; transition: all 0.3s; }
        .back-link:hover { transform: translateX(-5px); }
        .tech-stack { display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0; }
        .tech-badge { background: linear-gradient(45deg, #00d4ff, #090979); color: white; padding: 8px 16px; border-radius: 20px; font-size: 0.9rem; font-weight: bold; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0; }
        .feature-box { background: rgba(0, 212, 255, 0.05); padding: 20px; border-radius: 10px; border-left: 3px solid #00d4ff; }
        .workflow { background: rgba(0, 212, 255, 0.05); padding: 30px; border-radius: 10px; margin: 30px 0; }
        .step { display: flex; align-items: center; margin: 20px 0; }
        .step-number { background: #00d4ff; color: #0a0a20; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem; margin-right: 20px; flex-shrink: 0; }
        code { background: rgba(0,0,0,0.4); padding: 3px 8px; border-radius: 4px; color: #ff6b6b; font-family: 'Courier New', monospace; }
        pre { background: rgba(0,0,0,0.6); padding: 20px; border-radius: 10px; overflow-x: auto; border-left: 3px solid #00d4ff; }
        pre code { background: none; padding: 0; color: #e0e0e0; }
        .section-title { color: #00d4ff; margin-top: 50px; padding-bottom: 10px; border-bottom: 2px solid rgba(0, 212, 255, 0.3); }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="nav-container">
                <h1><a href="index.html" style="color: inherit; text-decoration: none;">Yao Xiang</a></h1>
                <ul>
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="index.html#projects">Projects</a></li>
                    <li><a href="index.html#skills">Skills</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <div class="detail-container">
        <a href="index.html#projects" class="back-link">‚Üê Back to Projects</a>
        
        <h1 style="color: #00d4ff; margin-bottom: 20px;">üìù Subtitle & MP3 Extractor</h1>
        
        <div class="tech-stack">
            <span class="tech-badge">FFmpeg</span>
            <span class="tech-badge">Python 3.13</span>
            <span class="tech-badge">Batch Automation</span>
        </div>

        <p style="color: #ff6b6b; font-size: 0.9rem; margin: 10px 0;"><strong>Project Category:</strong> Individual Project (Personal Productivity Tool)</p>

        <p style="font-size: 1.2rem; color: #b0b0b0; margin: 30px 0;">
            I built a smart Python wrapper around FFmpeg that implements intelligent fallback logic: check for subtitles ‚Üí extract if found ‚Üí fallback to MP3 audio if not. My design philosophy: <strong>never fail empty</strong> - always produce usable output regardless of input video structure.
        </p>

        <h2 class="section-title">üß∞ Technologies & Tools Used</h2>
        
        <h3 style="color: #ff6b6b; margin-top: 20px;">FFmpeg</h3>
        <p style="color: #b0b0b0;">A complete cross-platform solution for recording, converting, and streaming audio/video. FFmpeg can decode virtually any media format, probe file metadata, extract individual streams (audio, video, subtitles), and transcode between formats. It's the industry-standard tool for media manipulation, used by YouTube, VLC, and thousands of applications. I use it for two operations: extracting SRT subtitle tracks from video containers, and converting audio streams to MP3 format.</p>

        <h3 style="color: #ff6b6b; margin-top: 20px;">Python Subprocess</h3>
        <p style="color: #b0b0b0;">Python's subprocess module allows me to spawn new processes and connect to their input/output/error pipes. I use it to execute FFmpeg commands, capture output, and parse results. This lets me integrate FFmpeg's powerful media processing into a Python workflow with error handling and conditional logic.</p>

        <h2 class="section-title">üîß My Implementation Logic</h2>
        <div class="workflow">
            <div class="step">
                <div class="step-number">1</div>
                <div style="color: #b0b0b0;">
                    <strong style="color: #00d4ff;">Subtitle Stream Detection</strong><br>
                    I wrote code to probe video metadata using FFmpeg, parsing stream types to identify subtitle tracks
                </div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div style="color: #b0b0b0;">
                    <strong style="color: #00d4ff;">Conditional Extraction</strong><br>
                    My pipeline extracts SRT subtitles if found ‚Üí Outputs to <code>extracted_captions/</code>
                </div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div style="color: #b0b0b0;">
                    <strong style="color: #00d4ff;">Intelligent Fallback I Designed</strong><br>
                    If no subtitles exist, my code automatically pivots to MP3 extraction @ 192kbps ‚Üí Outputs to <code>extracted_audio/</code>
                </div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div style="color: #b0b0b0;">
                    <strong style="color: #00d4ff;">Guaranteed Output Philosophy</strong><br>
                    My error handling ensures the script <strong>never exits empty</strong> - you always get either subtitles OR audio
                </div>
            </div>
        </div>

        <h2 class="section-title">üí° Why I Built This</h2>
        <div class="feature-grid">
            <div class="feature-box">
                <h3 style="color: #00d4ff;">Problem I Solved</h3>
                <p style="color: #b0b0b0;">FFmpeg alone requires knowing if subtitles exist beforehand. My wrapper handles detection and decision-making automatically</p>
            </div>
            <div class="feature-box">
                <h3 style="color: #00d4ff;">My Fallback Architecture</h3>
                <p style="color: #b0b0b0;">I implemented try-except logic: attempt subtitle extraction ‚Üí if fails ‚Üí extract audio instead</p>
            </div>
            <div class="feature-box">
                <h3 style="color: #00d4ff;">UX Design Choice</h3>
                <p style="color: #b0b0b0;">I created drag-and-drop batch files for non-technical users - no command-line knowledge required</p>
            </div>
            <div class="feature-box">
                <h3 style="color: #00d4ff;">Output Organization I Designed</h3>
                <p style="color: #b0b0b0;">My code creates separate directories (<code>extracted_captions/</code> vs <code>extracted_audio/</code>) for easy file management</p>
            </div>
        </div>

        <h2 class="section-title">üíª Usage</h2>
        <h3 style="color: #ff6b6b;">Batch File (Drag-and-Drop)</h3>
        <pre><code>extract_cc.bat "path\to\video.mp4"</code></pre>

        <h3 style="color: #ff6b6b; margin-top: 20px;">Python Script (Direct)</h3>
        <pre><code>py cc_extractor.py "video.mp4"</code></pre>

        <h3 style="color: #ff6b6b; margin-top: 20px;">Example Output</h3>
        <pre><code>Video-subtitle&mp3-extractor/
‚îú‚îÄ‚îÄ extracted_captions/        # Created if subtitles found
‚îÇ   ‚îî‚îÄ‚îÄ video_name.srt
‚îú‚îÄ‚îÄ extracted_audio/           # Created if no subtitles
‚îÇ   ‚îî‚îÄ‚îÄ video_name.mp3</code></pre>

        <h2 class="section-title">üìÅ Supported Formats</h2>
        <ul style="color: #b0b0b0; line-height: 2;">
            <li><strong>Video:</strong> mp4, mkv, avi, mov, webm, flv</li>
            <li><strong>Subtitle Output:</strong> SRT (SubRip)</li>
            <li><strong>Audio Output:</strong> MP3 @ 192kbps</li>
        </ul>

        <h2 class="section-title">üîß Requirements</h2>
        <ul style="color: #b0b0b0; line-height: 2;">
            <li><strong>FFmpeg:</strong> Must be in PATH or at <code>C:\ffmpeg\bin\ffmpeg.exe</code></li>
            <li><strong>Python:</strong> 3.13.x (command: <code>py</code>)</li>
            <li><strong>OS:</strong> Windows 10/11</li>
        </ul>

        <h2 class="section-title">üí° Use Cases</h2>
        <ul style="color: #b0b0b0; line-height: 2;">
            <li>Extracting closed captions from lecture videos</li>
            <li>Harvesting subtitles for translation projects</li>
            <li>Getting audio from videos without subtitle tracks</li>
            <li>Batch processing media collections</li>
        </ul>

        <div style="text-align: center; margin-top: 50px;">
            <a href="https://github.com/Yxiang-828/Helper_Tools/tree/main/Video-subtitle%26mp3-extractor" target="_blank" class="cta-button">View on GitHub ‚Üí</a>
        </div>
    </div>

    <footer><div class="container"><p>&copy; 2025 Yao Xiang. All rights reserved.</p></div></footer>
</body>
</html>
